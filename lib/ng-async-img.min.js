!function(n){n.module("ngAsyncImg",[]).directive("asyncImg",["$animate",function(n){return{restrict:"E",scope:{onLoad:"&",onEnter:"&"},link:function(o,t,e){if(t.addClass("async-img"),"src"in e){var a=new Image;Array.prototype.forEach.call(t[0].classList,function(n){a.classList.add(n)}),Array.prototype.forEach.call(t[0].attributes,function(n){a.setAttribute(n.nodeName,n.nodeValue)});var r=t[0];Object.keys(Event.prototype).forEach(function(n){"function"==typeof r["on"+n.toLowerCase()]&&a.addEventListener(n,r["on"+n.toLowerCase()].bind(a))}),a.onload=function(){"function"==typeof o.onLoad&&o.onLoad(),o.$apply(function(){n.enter(a,t.parent(),t[0].previousElementSibling).then(function(){"function"==typeof o.onEnter&&o.onEnter()}),t.remove()})},a.src=e.src}}}}])}(window.angular);